<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script src="../static/common.js"></script>
    <script src="../static/lib/functional.js"></script>
    <script src="../static/lib/to-function.js"></script>
    <script src="../static/lib/js-class.js"></script>
    <script src="../static/lib/excanvas.js"></script>
    <script src="../static/lib/bluff-src.js"></script>
    <script>
    Functional.install()
    $(document).ready(function() {
        $.getJSON('json', function(data) {
            $.each(data, function() {
                var host = this[0];
                var testData = this[1];

                var bestResult = testData[0];
                var results = testData[1];
                var durations = map(function(res){return res[1];}, results);
                var revisions = map(function(res){return res[0];}, results)
                $('body').append('<p><canvas id="$id"></canvas>'.supplant({'id': host}))
                $('body').append('<a href="$id/">see details of $id >></a>'.supplant({'id': host}))
                drawGraph(durations.reverse(), revisions.reverse(), bestResult, host);
            });
        });
    });
    </script>
</head>
<body>
</body>
</html>
